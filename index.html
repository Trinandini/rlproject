<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Box Robot – Monte Carlo Pick Attempts</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>Box Robot: Goal-Based Picking (Monte Carlo)</h1>
    <div class="controls">
      <button id="runBtn" class="btn-primary">▶ Run</button>
      <button id="resetBtn" class="btn-ghost" title="Reset">↺ Reset</button>
    </div>
  </header>

  <main class="stage">
    <div class="backdrop"></div>

    <!-- single-file SVG scene -->
    <svg id="sim" viewBox="0 0 960 560" class="sim-svg" preserveAspectRatio="xMidYMid meet">
      <defs>
        <filter id="shadow"><feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.28"/></filter>
      </defs>

      <!-- work table -->
      <rect x="120" y="200" width="720" height="260" rx="20" class="table" filter="url(#shadow)"/>

      <!-- object to pick -->
      <circle id="puck" cx="610" cy="320" r="18" class="puck"/>
      <text x="610" y="356" class="label">OBJECT</text>

      <!-- virtual samples for each attempt -->
      <circle id="t1" cx="490" cy="360" r="10" class="ghost ghost-side"/>
      <circle id="t2" cx="610" cy="260" r="10" class="ghost ghost-above"/>
      <circle id="t3" cx="610" cy="320" r="10" class="ghost ghost-success"/>
      <circle id="t4" cx="610" cy="375" r="10" class="ghost ghost-below"/>

      <!-- box robot (base + 2-link arm) -->
      <g id="robot">
        <!-- box base -->
        <rect x="230" y="260" width="100" height="160" rx="10" class="box-base" filter="url(#shadow)"/>
        <rect x="240" y="230" width="80" height="40" rx="8" class="box-head"/>
        <!-- shoulder anchor -->
        <circle id="j1" cx="280" cy="250" r="10" class="joint"/>

        <!-- arm -->
        <line id="seg1" x1="280" y1="250" x2="390" y2="240" class="arm-seg"/>
        <circle id="j2" cx="390" cy="240" r="9" class="joint"/>
        <line id="seg2" x1="390" y1="240" x2="480" y2="260" class="arm-seg"/>

        <!-- gripper -->
        <g id="gripper">
          <circle id="ee" cx="480" cy="260" r="9" class="ee"/>
          <path id="clawL" d="M475 255 L466 242" class="claw"/>
          <path id="clawR" d="M485 255 L494 242" class="claw"/>
        </g>
      </g>

      <!-- breadcrumb path -->
      <polyline id="trail" points="" class="trail"/>
    </svg>

    <div class="legend">
      <span class="pill side">attempt 1: side</span>
      <span class="pill above">attempt 2: above</span>
      <span class="pill success">attempt 3: success</span>
      <span class="pill below">attempt 4: below</span>
    </div>

    <div id="status" class="status">Click <b>Run</b> to simulate 4 Monte Carlo attempts.</div>
  </main>

  <footer class="app-footer">Pure HTML/CSS/JS — no images, no backend.</footer>
  <script src="script.js"></script>
</body>
</html>
